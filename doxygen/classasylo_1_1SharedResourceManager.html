<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Asylo: asylo::SharedResourceManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Asylo
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceasylo.html">asylo</a></li><li class="navelem"><a class="el" href="classasylo_1_1SharedResourceManager.html">SharedResourceManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classasylo_1_1SharedResourceManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">asylo::SharedResourceManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A manager object for shared resources.  
 <a href="classasylo_1_1SharedResourceManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="shared__resource__manager_8h_source.html">shared_resource_manager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6fa669fff218b8bc1384b03ac370314e"><td class="memTemplParams" colspan="2">template&lt;typename T , typename Deleter  = std::default_delete&lt;T&gt;&gt; </td></tr>
<tr class="memitem:a6fa669fff218b8bc1384b03ac370314e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classasylo_1_1Status.html">Status</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classasylo_1_1SharedResourceManager.html#a6fa669fff218b8bc1384b03ac370314e">RegisterManagedResource</a> (const <a class="el" href="classasylo_1_1SharedName.html">SharedName</a> &amp;name, T *pointer)</td></tr>
<tr class="memdesc:a6fa669fff218b8bc1384b03ac370314e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a shared resource and passes ownership to the <a class="el" href="classasylo_1_1SharedResourceManager.html" title="A manager object for shared resources. ">SharedResourceManager</a>.  <a href="#a6fa669fff218b8bc1384b03ac370314e">More...</a><br /></td></tr>
<tr class="separator:a6fa669fff218b8bc1384b03ac370314e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b2e1b7c1da15f2db4b2763b72a76bf"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ae9b2e1b7c1da15f2db4b2763b72a76bf"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classasylo_1_1Status.html">Status</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classasylo_1_1SharedResourceManager.html#ae9b2e1b7c1da15f2db4b2763b72a76bf">RegisterUnmanagedResource</a> (const <a class="el" href="classasylo_1_1SharedName.html">SharedName</a> &amp;name, T *pointer)</td></tr>
<tr class="memdesc:ae9b2e1b7c1da15f2db4b2763b72a76bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a shared resource owned by that remains owned by the caller.  <a href="#ae9b2e1b7c1da15f2db4b2763b72a76bf">More...</a><br /></td></tr>
<tr class="separator:ae9b2e1b7c1da15f2db4b2763b72a76bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b900bca8cc2dd24d94135a3752ff7a6"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a0b900bca8cc2dd24d94135a3752ff7a6"><td class="memTemplItemLeft" align="right" valign="top">T *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classasylo_1_1SharedResourceManager.html#a0b900bca8cc2dd24d94135a3752ff7a6">AcquireResource</a> (const <a class="el" href="classasylo_1_1SharedName.html">SharedName</a> &amp;name)</td></tr>
<tr class="memdesc:a0b900bca8cc2dd24d94135a3752ff7a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquires a named resource.  <a href="#a0b900bca8cc2dd24d94135a3752ff7a6">More...</a><br /></td></tr>
<tr class="separator:a0b900bca8cc2dd24d94135a3752ff7a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f72b5d5277f7ea9f9f2d82bf6fae3c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classasylo_1_1SharedResourceManager.html#a97f72b5d5277f7ea9f9f2d82bf6fae3c">ReleaseResource</a> (const <a class="el" href="classasylo_1_1SharedName.html">SharedName</a> &amp;name)</td></tr>
<tr class="memdesc:a97f72b5d5277f7ea9f9f2d82bf6fae3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases a named resource.  <a href="#a97f72b5d5277f7ea9f9f2d82bf6fae3c">More...</a><br /></td></tr>
<tr class="separator:a97f72b5d5277f7ea9f9f2d82bf6fae3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A manager object for shared resources. </p>
<p>A manager object responsible for reference-counted untrusted resources which are shared between trusted and untrusted code. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0b900bca8cc2dd24d94135a3752ff7a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b900bca8cc2dd24d94135a3752ff7a6">&#9670;&nbsp;</a></span>AcquireResource()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T* asylo::SharedResourceManager::AcquireResource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classasylo_1_1SharedName.html">SharedName</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquires a named resource. </p>
<p>Acquires a named resource by incrementing its reference count and returning a pointer to an object owned by the <a class="el" href="classasylo_1_1EnclaveManager.html" title="A manager object responsible for creating and managing enclave instances. ">EnclaveManager</a>. Returns nullptr if the named resource does not exist. </p>

</div>
</div>
<a id="a6fa669fff218b8bc1384b03ac370314e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fa669fff218b8bc1384b03ac370314e">&#9670;&nbsp;</a></span>RegisterManagedResource()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T , typename Deleter  = std::default_delete&lt;T&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classasylo_1_1Status.html">Status</a> asylo::SharedResourceManager::RegisterManagedResource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classasylo_1_1SharedName.html">SharedName</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a shared resource and passes ownership to the <a class="el" href="classasylo_1_1SharedResourceManager.html" title="A manager object for shared resources. ">SharedResourceManager</a>. </p>
<p>Registers a shared resource of type T by name and transfers ownership of the object to the manager. Managed resources are objects allocated in the untrusted partition of the application and are addressable by name from trusted code.</p>
<p>Each resource is associated with a reference count, which is initialized to one (1) at the time the resource is registered. Resource counts are managed explicitly by calls to AcquireResource and ReleaseResource. Resources are automatically disposed of and removed from the resource table when their reference count reaches zero (0).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name to register to this resource. </td></tr>
    <tr><td class="paramname">pointer</td><td>A pointer to a value that this resource owns and will dispose of once it is no longer referenced. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae9b2e1b7c1da15f2db4b2763b72a76bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9b2e1b7c1da15f2db4b2763b72a76bf">&#9670;&nbsp;</a></span>RegisterUnmanagedResource()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classasylo_1_1Status.html">Status</a> asylo::SharedResourceManager::RegisterUnmanagedResource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classasylo_1_1SharedName.html">SharedName</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a shared resource owned by that remains owned by the caller. </p>
<p>Has the same behavior as RegisterManagedResource, except that the ownership of the resource remains with the caller. This means that that the resource will not be deleted by the <a class="el" href="classasylo_1_1EnclaveManager.html" title="A manager object responsible for creating and managing enclave instances. ">EnclaveManager</a> when its reference count reaches zero (0). This is appropriate for pointers to objects the caller owns and would like to make available inside the enclave. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name to register to this resource. </td></tr>
    <tr><td class="paramname">pointer</td><td>A pointer to a value owned by the caller. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a97f72b5d5277f7ea9f9f2d82bf6fae3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f72b5d5277f7ea9f9f2d82bf6fae3c">&#9670;&nbsp;</a></span>ReleaseResource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool asylo::SharedResourceManager::ReleaseResource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classasylo_1_1SharedName.html">SharedName</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases a named resource. </p>
<p>Releases a named resource by decrementing its reference count. Removes it from the resource table and delegates finalization to its resource handle when the reference count reaches zero (0). Returns false if the named resource does not exist. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>asylo/platform/core/<a class="el" href="shared__resource__manager_8h_source.html">shared_resource_manager.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/>
</body>
</html>
